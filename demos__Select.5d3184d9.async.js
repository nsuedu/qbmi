(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"9Hk6":function(t,e,a){"use strict";a.d(e,"a",(function(){return h}));var s=a("wx14"),n=(a("R9oj"),a("ECub")),i=(a("T2oS"),a("W9HT")),o=(a("OaEy"),a("2fM7")),c=a("q1tI"),l=a.n(c),r=a("LvDl");const u=o["a"].Option;class h extends l.a.Component{static getDerivedStateFromProps(t,e){const a=t.value,s=t.options,n=e.value,i=e.options,o={};return Object(r["isEqual"])(a,n)||Object.assign(o,{value:a}),Array.isArray(s)&&!Object(r["isEqual"])(s,i)&&Object.assign(o,{options:s}),o}constructor(t){super(t),this.fetchData=async t=>{const e=t.input,a=void 0===e?this.state.query:e,s=t.page,n=void 0===s?this.state.currentPage:s,i=this.props,o=i.dataServer,c=i.dataHandler;if(!Object(r["isFunction"])(o))return;const l=[null,void 0,""," "].includes(a)?"":a;this.setState({fetching:!0});const u=await o({input:l,limit:50,page:n});if(Array.isArray(u)){const t=Object(r["isFunction"])(c)?c(u):u;this.setState({options:t,fetching:!1})}else if(Array.isArray(u.dataSource)){const t=Object(r["isFunction"])(c)?c(u.dataSource):u.dataSource;this.setState((e=>{let a=t;if(n>1){const s=[...e.options];s.push(...t),a=Object(r["uniqBy"])(s,"value")}return{options:a,fetching:!1,currentPage:u.currentPage,totalPage:u.totalPage}}))}},this.handleSearch=t=>{this.fetchData({input:t,page:1})},this.handleFocus=()=>{this.fetchData({input:"",page:1})},this.handleChange=t=>{const e=this.props,a=e.value,s=e.onChange,n=e.selectProps,i=void 0===n?{}:n,o=this.state.options,c=i.labelInValue&&t?o.find((e=>e.value===t.value)):o.find((e=>e.value===t));Object(r["isFunction"])(s)&&s(t,o,c),a||this.setState({value:t})},this.companyScroll=t=>{const e=t.target,a=e.clientHeight,s=e.scrollHeight,n=e.scrollTop,i=this.state,o=i.currentPage,c=i.totalPage,l=i.fetching;if(a+n===s&&!l&&void 0!==c&&void 0!==o&&c>o){const t=o+1;this.setState({currentPage:t},(()=>{this.fetchData({page:t})}))}},this.handleSearch=Object(r["debounce"])(this.handleSearch,400),this.state={options:t.options||[],value:t.value||[],query:t.defaultQuery||null,fetching:!1,cancelDisable:t.cancelDisable||!1}}componentDidMount(){const t=this.props,e=t.isLoading,a=t.options,s=this.state.value;!e&&(!s||Array.isArray(a)&&a.length)||this.fetchData({})}render(){const t=this.props,e=t.notFoundTips,a=t.selectProps,c=t.defaultValue,r=this.state,h=r.fetching,d=r.options,p=r.value,f=r.cancelDisable;return l.a.createElement(o["a"],Object(s["a"])({allowClear:!0,defaultValue:c,value:p,notFoundContent:h?l.a.createElement(i["a"],{size:"small"}):l.a.createElement(n["a"],{tips:e}),filterOption:!1,showSearch:!0,onSearch:t=>{const e=t.replace(/\s+/g,"");this.handleSearch(e)},onFocus:()=>{this.handleFocus()},onChange:this.handleChange,placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},a,{onPopupScroll:this.companyScroll}),d.map((({value:t,label:e,...a})=>{const n={...a};return f&&(n.disabled=!1),l.a.createElement(u,Object(s["a"])({key:t,value:t},n),e)})))}}h.defaultProps={isLoading:!1}},es0w:function(t,e,a){"use strict";a.r(e);var s=a("q1tI"),n=a.n(s),i=a("9Hk6");const o=t=>new Promise((t=>{const e=[{id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"string1",disable:!1},{id:"3fa85234-5717-4562-b3fc-2c963f66afa6",name:"string2",disable:!1},{id:"3fa85f64-34717-4562-b3fc-2c963f66afa6",name:"string3",disable:!1},{id:"3fa85f64-5717-4662-b3fc-2c963f66afa6",name:"string4",disable:!1},{id:"3fa85f64-5717-45562-b3fc-2c963f66afa6",name:"string5",disable:!1}];t({data:e})})),c=t=>n.a.createElement(i["a"],{listServer:o,labelValue:{value:"id",label:"name"},hasNoneText:!0});e["default"]=c}}]);