(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"9Hk6":function(t,e,a){"use strict";a.d(e,"a",(function(){return h}));var s=a("0Owb"),n=(a("R9oj"),a("ECub")),i=(a("T2oS"),a("W9HT")),c=(a("OaEy"),a("2fM7")),o=a("cDcd"),l=a.n(o),r=a("LvDl");const u=c["a"].Option;class h extends l.a.Component{static getDerivedStateFromProps(t,e){const a=t.value,s=t.options,n=e.value,i=e.options,c={};return a&&!Object(r["isEqual"])(a,n)&&Object.assign(c,{value:a}),Array.isArray(s)&&!Object(r["isEqual"])(s,i)&&Object.assign(c,{options:s}),c}constructor(t){super(t),this.fetchData=async t=>{const e=t.input,a=void 0===e?this.state.query:e,s=t.page,n=void 0===s?this.state.currentPage:s,i=this.props,c=i.dataServer,o=i.dataHandler;if(!Object(r["isFunction"])(c))return;const l=[null,void 0,""," "].includes(a)?"":a;this.setState({fetching:!0});const u=await c({input:l,limit:50,page:n});if(Array.isArray(u)){const t=Object(r["isFunction"])(o)?o(u):u;this.setState({options:t,fetching:!1})}else if(Array.isArray(u.dataSource)){const t=Object(r["isFunction"])(o)?o(u.dataSource):u.dataSource;this.setState((e=>{const a=[...e.options];a.push(...t);const s=Object(r["uniqBy"])(a,"value");return{options:s,fetching:!1,currentPage:u.currentPage,totalPage:u.totalPage}}))}},this.handleSearch=t=>{this.fetchData({input:t})},this.handleFocus=()=>{this.fetchData({input:"",page:1})},this.handleChange=t=>{const e=this.props,a=e.value,s=e.onChange,n=e.selectProps,i=void 0===n?{}:n,c=this.state.options,o=i.labelInValue&&t?c.find((e=>e.value===t.value)):c.find((e=>e.value===t));Object(r["isFunction"])(s)&&s(t,c,o),a||this.setState({value:t})},this.companyScroll=t=>{const e=t.target,a=e.clientHeight,s=e.scrollHeight,n=e.scrollTop,i=this.state,c=i.currentPage,o=i.totalPage,l=i.fetching;if(a+n===s&&!l&&void 0!==o&&void 0!==c&&o>c){const t=c+1;this.setState({currentPage:t},(()=>{this.fetchData({page:t})}))}},this.handleSearch=Object(r["debounce"])(this.handleSearch,400),this.state={options:t.options||[],value:t.defaultValue||[],query:t.defaultQuery||null,fetching:!1,cancelDisable:t.cancelDisable||!1}}componentDidMount(){const t=this.props,e=t.isLoading,a=t.options,s=this.state.value;!e&&(!s||Array.isArray(a)&&a.length)||this.fetchData({})}render(){const t=this.props,e=t.notFoundTips,a=t.selectProps,o=this.state,r=o.fetching,h=o.options,d=o.value,p=o.cancelDisable;return l.a.createElement(c["a"],Object(s["a"])({allowClear:!0,value:d,notFoundContent:r?l.a.createElement(i["a"],{size:"small"}):l.a.createElement(n["a"],{tips:e}),filterOption:!1,showSearch:!0,onSearch:t=>{const e=t.replace(/\s+/g,"");this.handleSearch(e)},onFocus:()=>{this.handleFocus()},onChange:this.handleChange,placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},a,{onPopupScroll:this.companyScroll}),h.map((({value:t,label:e,...a})=>{const n={...a};return p&&(n.disabled=!1),l.a.createElement(u,Object(s["a"])({key:t,value:t},n),e)})))}}h.defaultProps={isLoading:!1}},es0w:function(t,e,a){"use strict";a.r(e);var s=a("cDcd"),n=a.n(s),i=a("9Hk6");const c=t=>new Promise((t=>{const e=[{id:"3fa85f64-5717-4562-b3fc-2c963f66afa6",name:"string1",disable:!1},{id:"3fa85234-5717-4562-b3fc-2c963f66afa6",name:"string2",disable:!1},{id:"3fa85f64-34717-4562-b3fc-2c963f66afa6",name:"string3",disable:!1},{id:"3fa85f64-5717-4662-b3fc-2c963f66afa6",name:"string4",disable:!1},{id:"3fa85f64-5717-45562-b3fc-2c963f66afa6",name:"string5",disable:!1}];t({data:e})})),o=t=>n.a.createElement(i["a"],{listServer:c,labelValue:{value:"id",label:"name"},hasNoneText:!0});e["default"]=o}}]);